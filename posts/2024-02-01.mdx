---
title: Rail 모델
desc: 브라우저 사용자 경험에 대한 지표 Rail모델
date: 2024.02.01
tags: [Rail, 브라우저, 렌더링, 사용자 경험]
---

# Rail 모델

- Rail은 브라우저에서의 성능에 대해 생각할 수 있도록 해주는 사용주 중심 성능 모델
- 4가지 웹앱의 생명주기를 통해 성능 지표를 나타냄(response, animation, idle, load)
- 구체적 목표와 지침을 지정하여 성능 측정 항목으로 이용할 수 있도록 함

![240203-210333](/posts/2024-02-01/240203-210333.png)

출처: https://web.dev/rail/#response-process-events-in-under-50ms

# Rail모델에서 바라본 사용자 경험에 대한 기준

| 0~16ms | - 사용자는 초당 60개의 프레임이 렌더링되는걸 부드럽다고 인식한다

- 브라우저에서 새 프레임을 그리는데는 16ms가 걸린다.
- | 사용자가 애니메이션이 매우 매끄럽다고 느낌 |
  | ------------------------------------------ | ---------------------------------------------- |
  | 0~100ms                                    | - 이 정도 응답에선 즉각적 반응이 일어난다 느낌 |
- 하지만 더 길어지면 동작 ↔ 응답 이 끊어진다는 느낌을 받음 |
  | 100~1,000ms | - 자연스럽고 지속적 작업의 일부로 받아들일 수 있는 수준
- 대부분의 웹앱의 상태 |
  | 1,000ms ~ 10,000ms | - 1초를 초과하므라 사용자는 작업에 집중을 잃게됨 |
  | 10,000ms 이상 | - 사용자 이탈 |

# Response: 50ms 미만의 이벤트 처리 목표

- 목표 : 사용자 입력에 대한 interaction이 100ms이내에 완료되어 전달 될 수 있도록(즉각적이다는 느낌)
- 지침
  - 터치, 스크롤등 연결되는 동작은 제외하고, 클릭, 토글등의 이벤트에 적용
  - 리소스가 많이 필요한 작업이라면 백그라운드로 동작할 수 있도록(사용자 경험을 차단하지 않도록)
  - 50ms를 넘기는 응답에 대해선 피드백을 제공할 수 있도록한다.

> 100ms 응답을 위해선 고작 50ms의 여유만 존재한다.

목표가 100ms인 응답을 주려고 할 때, 개발자에게 가용한 시간은 50ms에 불과하다.

목표하는 task처리외에도 입력에 대한 입력을 수용하고, 응답을 표출하기위한 처리시간 또한 필요하므로 실제 사용할 수 있는 시간은 50ms정도!

![240203-210345](/posts/2024-02-01/240203-210345.png)

출처 : https://web.dev/rail/#response-process-events-in-under-50ms

# Animation : 10ms안에 프레임 생성

- 목표
  - 애니메이션을 각 10ms 프레임 이하로 생성
  - 각 프레임의 최대예산은 16ms지만 브라우저가 프레임을 렌더링하는 시간이 필요하므로 10ms만 가용
  - 시각적 부드러움이 목표!
- 지침
  - 애니메이션 처리와 같이 높은 연산이 필요한 작업에는 다른 작업을 포함하지 않는다.
  - 스크롤, 로드표시 와 같은 시각적 애니메이션등을 포함하는 개념들에 적용
  - 렌더링 성능의 원리는 적극 참조한다.

# Idle: 유휴시간 극대화

- 목표
  - idle time을 최대화하여 사용자의 입력에 50ms이내 응답할 수 있도록 한다.
- 지침
  - 초기 페이지 로드를 가볍게 하고, 유휴 시간에 나머지를 로드하도록 한다.
  - 50ms를 넘는 작업은 다른 사용자 입력에 대한 응답에 방해가 될 수 있으므로, 그 이내 시간에 할 수 있도록 한다.
  - 유휴 작업중 사용자 입력이 있다면, 우선순위에 따라 작동하도록 한다.

# Load : 최대 5초 이내 콘텐츠 전달 후 상호작용 준비

- 목표
  - slow 3g상황에서도 5초 이내에 콘텐츠를 전달하고 상호작용에 준비할 수 있도록 한다.
- ## 지침

# Rail 측정도구

- chrome devtools
- Lighthouse
- WebPageTest

# Referrence
